(this.webpackJsonpcod_tournament=this.webpackJsonpcod_tournament||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(20),r=n.n(s),i=(n(50),n(4)),l=(n(51),n(21)),o=n(8),u=n(16),j=n(17),m=n(9),d=n.n(m),h=n(13);function b(e){if(!e)return[];var t=[];return Object.keys(e).forEach((function(n){t.push(e[n])})),t}var f=n(28);n(53),n(57);f.a.initializeApp({apiKey:"AIzaSyAQ2d6W3c1EpZ27yNxaBp8p0yIRWOIb1uE",authDomain:"warzonetournament-247ef.firebaseapp.com",projectId:"warzonetournament-247ef",storageBucket:"warzonetournament-247ef.appspot.com",messagingSenderId:"350451124321",appId:"1:350451124321:web:2a40d2cb3c5245139cc220",measurementId:"G-2GMB0XHEP4"}),f.a.auth().useDeviceLanguage();var p=f.a,O=p.database(),x=function(){function e(){Object(u.a)(this,e)}return Object(j.a)(e,[{key:"detach",value:function(){O.ref("tournaments").off()}},{key:"getTournaments",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.ref("tournaments").once("value").then((function(e){return JSON.parse(e.val())})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(e){var t=O.ref().child("t").push();e.id=t.key,t.set(e)}},{key:"update",value:function(e,t){O.ref("t/".concat(e)).set(t)}},{key:"close",value:function(e){var t={};return t["/t/"+e+"/open/"]=!1,O.ref().update(t)}},{key:"delete",value:function(e){O.ref("t/".concat(e)).remove()}},{key:"getTournaments2",value:function(e){O.ref("t").on("value",(function(t){e(b(t.val()))}))}},{key:"getTournament",value:function(e,t){O.ref("t/".concat(t)).on("value",(function(t){e(t.val())}))}},{key:"saveTeam",value:function(e,t){var n=O.ref().child("t/".concat(e,"/teams/")).push();t.id=n.key,n.set(t)}},{key:"deleteTeam",value:function(e,t){O.ref("t/".concat(e,"/teams/").concat(t)).remove()}},{key:"getTeams",value:function(e,t){O.ref("t/".concat(t,"/teams")).on("value",(function(t){e(b(t.val()))}))}},{key:"getTeam",value:function(e,t,n){O.ref("t/".concat(t,"/teams/").concat(n)).on("value",(function(t){e(t.val())}))}},{key:"saveMatch",value:function(e,t,n){var a=O.ref().child("t/".concat(e,"/teams/").concat(t,"/matches")).push();n.id=a.key,a.set(n)}},{key:"deleteMatch",value:function(e,t,n){O.ref("t/".concat(e,"/teams/").concat(t,"/matches/").concat(n)).remove()}},{key:"getMatches",value:function(e,t,n){O.ref("t/".concat(t,"/teams/").concat(n,"/matches")).on("value",(function(t){e(b(t.val()))}))}},{key:"getMatch",value:function(e,t,n,a){O.ref("t/".concat(t,"/teams/").concat(n,"/matches/").concat(a)).on("value",(function(t){e(t.val())}))}},{key:"getLiveTournaments",value:function(e){O.ref("tournaments").on("value",(function(t){e(JSON.parse(t.val()))}))}},{key:"saveTournaments",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.ref("tournaments").set(JSON.stringify(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),v=n(19),y=n(6),g=n.n(y),N=function(){function e(t){Object(u.a)(this,e),this.firebase=t}return Object(j.a)(e,[{key:"detach",value:function(){this.firebase.detach()}},{key:"save",value:function(e){this.firebase.save(e)}},{key:"update",value:function(e,t){this.firebase.save(e,t)}},{key:"delete",value:function(e){this.firebase.delete(e)}},{key:"list",value:function(e){this.firebase.getTournaments2(e)}},{key:"read",value:function(e,t){this.firebase.getTournament(e,t)}},{key:"listTeams",value:function(e,t){this.firebase.getTeams(e,t)}},{key:"listMatches",value:function(e,t,n){this.firebase.getMatches(e,t,n)}},{key:"saveTeam",value:function(e,t){this.firebase.saveTeam(e,t)}},{key:"deleteTeam",value:function(e,t){this.firebase.deleteTeam(e,t)}},{key:"saveTeams",value:function(e,t){var n=this;t.forEach((function(t){n.saveTeam(e,t)}))}},{key:"saveMatch",value:function(e,t,n){this.firebase.saveMatch(e,t,n)}},{key:"deleteMatch",value:function(e,t,n){this.firebase.deleteMatch(e,t,n)}},{key:"close",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.firebase.close(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchById",value:function(e,t){var n=-1;return e.forEach((function(e,a){e.id===t&&(n=a)})),n}},{key:"getMatchPoint",value:function(e){return this.getPositionPoint(e.position)+this.getMatchKills(e)}},{key:"getMatchKills",value:function(e){return g.a.sum(e.teamScore.map((function(e){return parseInt(e.kills)})))}},{key:"getPositionPoint",value:function(e){switch(e){case"1":return 20;case"2":return 15;case"3":return 10;case"4":return 5;case"5":return 3;case"6":return 2;default:return 0}}},{key:"getKillPoint",value:function(e){return e}},{key:"getDamagePoint",value:function(e){return 0}},{key:"getScorePoint",value:function(e){return 0}},{key:"getResults",value:function(e){var t=this,n=Object(v.a)(e.players),a={};n.forEach((function(n){a[n]||(a[n]={player:n,kills:0,damage:0,points:0,total:0}),Object.keys(e.teams).forEach((function(c){var s=e.teams[c];s.matches&&Object.keys(s.matches).forEach((function(e){var c=s.matches[e];s.players.indexOf(n)>-1&&(a[n].points+=t.getPositionPoint(c.position),a[n].total+=t.getPositionPoint(c.position)),c.teamScore.forEach((function(e){n===e.player&&(a[n].kills+=parseInt(e.kills),a[n].damage+=parseInt(e.damage),a[n].total+=parseInt(e.kills))}))}))}))}));var c=[];return Object.keys(a).forEach((function(e){c.push(a[e])})),{players:g.a.orderBy(c,["total"],["desc"]),teams:g.a.orderBy(b(e.teams).map((function(e){var n=g.a.sumBy(e.matches,(function(e){return g.a.sumBy(e.teamScore,(function(e){return parseInt(e.kills)}))})),a=g.a.sumBy(e.matches,(function(e){return t.getPositionPoint(e.position)}));return{teamId:e.id,players:e.players,kills:n,damage:g.a.sumBy(e.matches,(function(e){return g.a.sumBy(e.teamScore,(function(e){return parseInt(e.damage)}))})),points:a,total:n+a}})),["total"],["desc"])}}}]),e}(),k=function(){function e(){Object(u.a)(this,e)}return Object(j.a)(e,[{key:"fetchAdjective",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.wordnik.com/v4/words.json/randomWord?hasDictionaryDef=true&includePartOfSpeech=adjective&excludePartOfSpeech=noun&minCorpusCount=4000&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=5&maxLength=-1&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5").then((function(e){return e.json()})).then((function(e){return e.word})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNoun",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.wordnik.com/v4/words.json/randomWord?hasDictionaryDef=false&includePartOfSpeech=noun&minCorpusCount=100000&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=5&maxLength=-1&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5").then((function(e){return e.json()})).then((function(e){return e.word})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getName",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchNoun();case 2:return e.t0=e.sent,e.t1=e.t0+" ",e.next=6,this.fetchAdjective();case 6:return e.t2=e.sent,e.abrupt("return",e.t1+e.t2);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=function(){function e(){Object(u.a)(this,e)}return Object(j.a)(e,[{key:"loggedUser",value:function(){return p.auth().currentUser}},{key:"liveLoggedUser",value:function(e){p.auth().onAuthStateChanged(e)}},{key:"login",value:function(e,t){p.auth().signInWithEmailAndPassword(e,t).then((function(e){console.log(e);e.user})).catch((function(e){console.log(e);e.code,e.message}))}},{key:"signup",value:function(e,t){p.auth().createUserWithEmailAndPassword(e,t).then((function(e){e.user})).catch((function(e){e.code,e.message}))}},{key:"logout",value:function(){p.auth().signOut()}},{key:"googleLogin",value:function(){var e=new p.auth.GoogleAuthProvider;p.auth().signInWithPopup(e).then((function(e){console.log(e);e.credential.accessToken,e.user})).catch((function(e){console.log(e);e.code,e.message,e.email,e.credential}))}},{key:"facebookLogin",value:function(){}},{key:"appleLogin",value:function(){}},{key:"twitterLogin",value:function(){}},{key:"microsoftLogin",value:function(){}}]),e}(),w=new(function(){function e(){Object(u.a)(this,e)}return Object(j.a)(e,[{key:"auth",value:function(){return new S}},{key:"tournaments",value:function(){return new N(new x)}},{key:"names",value:function(){return new k}}]),e}()),C=n(34),I=n.n(C),P=n(0);I.a.setAppElement("#root");var T=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1],r={inset:"auto",minWith:"99vw",maxHeight:"80vh",overflow:"auto",width:"lg"===e.size?"90%":"md"===e.size?"60%":"auto",padding:"0",backgroundColor:"#111e",border:"1px solid #2f2c",borderRadius:"0px",boxShadow:"0px 0px 20px rgb(0, 0, 0, .4)"};Object(a.useEffect)((function(){return s(e.isOpen[0])}),[e]);return Object(P.jsxs)(I.a,{isOpen:c,onRequestClose:e.onRequestClose,closeTimeoutMS:300,style:{overlay:{backgroundColor:"#000a"},content:r},children:[Object(P.jsx)("div",{className:"h-layout justify-right",children:Object(P.jsx)("button",{className:"btn--secondary",onClick:function(){return e.isOpen[0]=!1,void s(!1)},children:Object(P.jsx)("i",{className:"fa fa-times"})})}),Object(P.jsx)("div",{className:"container v-layout align-stretch",style:{paddingTop:"0"},children:e.children})]})},E=n(93),M=(n(71),n(92)),D=n(94);var z=function(e){var t=e.onSave,n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)(""),o=Object(i.a)(l,2),u=o[0],j=o[1],m=Object(a.useState)(4),d=Object(i.a)(m,2),h=d[0],b=d[1],f=Object(a.useState)([{id:Object(E.a)(),name:""},{id:Object(E.a)(),name:""},{id:Object(E.a)(),name:""},{id:Object(E.a)(),name:""}]),p=Object(i.a)(f,2),O=p[0],x=p[1];Object(a.useEffect)((function(){y()}),[u,h,O]);var y=function(){var e=!0,t=[];O.forEach((function(n){""===n.name||t.indexOf(n.name)>-1?e=!1:t.push(n.name)})),r(""!==u&&""!==h&&e)},g=O.map((function(e,t){return Object(P.jsx)(M.a,{timeout:400,classNames:"input-list-item",children:Object(P.jsxs)("div",{className:"mb h-layout justify-stretch",children:[Object(P.jsx)("input",{className:"flex-grow",id:"playerNameInput"+t,type:"text",value:e.name,placeholder:"Player Name",onChange:function(e){return function(e,t){var n=Object(v.a)(O);n[e].name=t,x(n)}(t,e.target.value)}}),Object(P.jsx)("button",{className:"btn--secondary text-accent",onClick:function(){return function(e){var t=Object(v.a)(O);t.splice(e,1),x(t)}(t)},children:Object(P.jsx)("i",{className:"fa fa-minus"})})]})},e.id)}));return Object(P.jsxs)("div",{className:"mt v-layout align-stretch",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"form-group h-layout",children:Object(P.jsx)("input",{className:"flex-grow",id:"tournamentNameInput",type:"text",value:u,onChange:function(e){return j(e.target.value)},placeholder:"Tournament Name"})}),Object(P.jsxs)("div",{className:"form-group h-layout",children:[Object(P.jsx)("label",{className:"flex-grow",htmlFor:"teamSizeInput",children:"Team size"}),Object(P.jsx)("input",{id:"teamSizeInput",type:"number",value:h,onChange:function(e){return b(e.target.value)},autoComplete:"off",min:"1",max:"4"})]})]}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"h-layout justify-left",children:[Object(P.jsx)("h3",{className:"flex-grow",children:"Players"}),Object(P.jsx)("button",{className:"btn--secondary",onClick:function(){x([].concat(Object(v.a)(O),[{id:Object(E.a)(),name:""}]))},children:Object(P.jsx)("i",{className:"fa fa-plus"})})]}),Object(P.jsx)(D.a,{children:g})]}),Object(P.jsx)("button",{onClick:function(){s&&(w.tournaments().save({created:new Date,open:!0,name:u,teamSize:h,players:O.map((function(e){return e.name})),teams:[]}),t())},disabled:!s,children:"save"})]})},B=n(23),L=n.n(B);n(72);var K=function(e){var t=e.tournament,n=t.players.map((function(e,t){return Object(P.jsx)("span",{className:"mr-3 text-sm",children:e},e)}));return Object(P.jsxs)("div",{className:"card tournament-card",onClick:function(){return window.location="#tournament/"+t.id},children:[Object(P.jsxs)("div",{className:"h-layout",children:[Object(P.jsx)("h3",{className:"flex-grow mr-3",children:t.name}),t.open&&Object(P.jsx)("button",{className:"btn--secondary",onClick:function(e){return function(e){e.stopPropagation(),w.tournaments().delete(t.id)}(e)},children:Object(P.jsx)("i",{className:"fas fa-trash"})})]}),Object(P.jsx)("span",{className:"text-sm text-hint",children:L()(t.created).format("MM/DD/YYYY")}),Object(P.jsxs)("p",{children:["Team size: ",t.teamSize]}),Object(P.jsx)("h3",{children:"Players"}),Object(P.jsx)("div",{className:"h-layout justify-left",children:n})]})};n(73);var A=function(e){var t=e.tournaments.map((function(e,t){return Object(P.jsx)(M.a,{timeout:400,classNames:"card",children:Object(P.jsx)(K,{tournament:e,tIndex:t})},e.id)}));return Object(P.jsx)(D.a,{className:"h-layout tournament-list align-left",children:t})};n(74);var R=function(){var e=Object(a.useState)([!1]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(i.a)(s,2),l=r[0],o=r[1];Object(a.useEffect)((function(){w.tournaments().detach(),u()}),[]);var u=function(){w.tournaments().list((function(e){o(e)}))};return Object(P.jsxs)("div",{className:"home v-layout",children:[Object(P.jsx)("div",{className:"flex-grow v-layout start-tournament-btn",children:Object(P.jsx)("button",{onClick:function(){return c([!0])},children:"Start Tournament"})}),Object(P.jsx)("h3",{children:"Tournaments"}),Object(P.jsx)(A,{tournaments:l}),Object(P.jsx)(T,{isOpen:n,onRequestClose:function(){return c([!1])},size:"sm",children:Object(P.jsx)(z,{onSave:function(){return c([!1])}})})]})},Y=(n(75),n(29));n(76);var W=function(e){var t=e.team,n=e.onSave,c=Object(a.useState)(!1),s=Object(i.a)(c,2),r=s[0],l=s[1],o=Object(a.useState)({id:Object(E.a)(),created:new Date,position:"",teamScore:t.players.map((function(e){return{player:e,kills:"",damage:""}}))}),u=Object(i.a)(o,2),j=u[0],m=u[1];Object(a.useEffect)((function(){d()}),[j]);var d=function(){var e=!0;j.teamScore.forEach((function(t){""!==t.kills&&""!==t.damage||(e=!1)})),l(""!==j.position&&e)},h=j.teamScore.map((function(e,t){return Object(P.jsxs)("div",{className:"form-group match-player-form",children:[Object(P.jsx)("label",{className:"flex-grow mr",children:e.player}),Object(P.jsx)("input",{id:"playerNameInput"+t,type:"number",value:e.kills,placeholder:"Kills",onChange:function(e){return function(e,t){var n=Object(Y.a)({},j);n.teamScore[e].kills=t,m(n)}(t,e.target.value)},autoComplete:"off",min:"1",max:"100"}),Object(P.jsx)("input",{id:"playerNameInput"+t,type:"number",value:e.damage,placeholder:"Dmg",onChange:function(e){return function(e,t){var n=Object(Y.a)({},j);n.teamScore[e].damage=t,m(n)}(t,e.target.value)},autoComplete:"off",min:"1",max:"100000"})]},t)}));return Object(P.jsxs)("div",{className:"v-layout align-stretch",children:[Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"form-group h-layout",children:[Object(P.jsx)("label",{className:"flex-grow",htmlFor:"matchPositionInput",children:"Match Position"}),Object(P.jsx)("input",{id:"matchPositionInput",type:"number",value:j.position,onChange:function(e){return function(e){var t=Object(Y.a)({},j);t.position=e,m(t)}(e.target.value)},autoComplete:"off",min:"1",max:"99"})]})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{className:"flex-grow text-accent",children:"Players"}),h]}),Object(P.jsx)("button",{onClick:function(){r&&(w.tournaments().saveMatch(t.tournamentId,t.id,j),n())},disabled:!r,children:"save"})]})};n(77);var H=function(e){var t=e.tournamentOpen,n=e.match,c=e.onDelete,s=w.tournaments(),r=Object(a.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=n.teamScore.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e.player}),Object(P.jsx)("td",{children:e.kills}),Object(P.jsx)("td",{children:e.damage})]},t)}));return Object(P.jsxs)("div",{id:n.id,className:"match card",onClick:function(){return u(!o)},children:[Object(P.jsxs)("div",{className:"h-layout text-sm",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"text-accent text-bold",children:"Kills: "}),s.getMatchKills(n)]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"text-accent text-bold ml",children:"Pts: "}),s.getPositionPoint(n.position)]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"text-accent text-bold ml",children:"Total: "}),s.getMatchPoint(n)]}),t&&Object(P.jsx)("div",{className:"ml",onClick:function(e){return c(e,n)},children:Object(P.jsx)("i",{className:"fas fa-trash"})})]}),Object(P.jsxs)("div",{className:(o?"match--open":"")+" mt match-detail",style:{maxHeight:o?document.querySelector("#".concat(CSS.escape(n.id)," .match-detail")).scrollHeight+"px":0},children:[n.created&&Object(P.jsxs)("div",{className:"text-sm",children:["Date: ",L()(n.created).format("MM/DD/YYYY")]}),Object(P.jsxs)("div",{className:"text-sm",children:["Position: ",n.position]}),Object(P.jsxs)("table",{className:"mt",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{style:{width:"100%"},children:"Player"}),Object(P.jsx)("th",{children:"Kills"}),Object(P.jsx)("th",{children:"Dmg"})]})}),Object(P.jsx)("tbody",{children:j})]})]})]})};n(78);var q=function(e){var t=e.tournamentOpen,n=e.tournamentId,c=e.teamId,s=e.onDelete,r=Object(a.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1];Object(a.useEffect)((function(){j()}),[c]);var j=function(){w.tournaments().listMatches((function(e){u(e)}),n,c)},m=o.map((function(e,n){return Object(P.jsx)(M.a,{timeout:400,classNames:"card",children:Object(P.jsx)(H,{tournamentOpen:t,match:e,onDelete:s})},e.id)}));return Object(P.jsx)(D.a,{className:"match-list",children:m})};n(79);var F=function(e){var t=e.tournamentOpen,n=e.team,c=Object(a.useState)([!1]),s=Object(i.a)(c,2),r=s[0],l=s[1],o=n.players.map((function(e,t){return Object(P.jsx)("span",{className:"mr text-sm",children:e},t)}));return Object(P.jsxs)("div",{className:"card v-layout align-stretch",children:[Object(P.jsxs)("div",{className:"h-layout",children:[Object(P.jsx)("h3",{className:"text-sm flex-grow",children:n.name?n.name:n.id.substring(0,4)}),t&&Object(P.jsx)("button",{className:"btn--secondary",onClick:function(){w.tournaments().deleteTeam(n.tournamentId,n.id)},children:Object(P.jsx)("i",{className:"fas fa-trash"})})]}),t&&Object(P.jsx)("button",{className:"btn--tertiary flex-grow",onClick:function(){return l([!0])},children:"Add Match"}),Object(P.jsx)("h4",{className:"text-sm text-bold text-accent",children:"Players"}),Object(P.jsx)("div",{className:"h-layout justify-stretch",children:o}),Object(P.jsx)("h4",{className:"text-sm text-bold text-accent",children:"Matches"}),Object(P.jsx)(q,{tournamentOpen:t,tournamentId:n.tournamentId,teamId:n.id,onDelete:function(e,t){return function(e,t){e.stopPropagation(),w.tournaments().deleteMatch(n.tournamentId,n.id,t.id)}(e,t)}}),Object(P.jsx)(T,{isOpen:r,onRequestClose:function(){return l([!1])},size:"sm",children:Object(P.jsx)(W,{team:n,onSave:function(){l([!1])}})})]})};n(80);var U=function(e){var t=e.tournamentOpen,n=e.tournamentId,c=Object(a.useState)([]),s=Object(i.a)(c,2),r=s[0],l=s[1];Object(a.useEffect)((function(){o()}),[n]);var o=function(){w.tournaments().listTeams((function(e){l(e)}),n)},u=r.map((function(e,n){return Object(P.jsx)(M.a,{timeout:400,classNames:"card",children:Object(P.jsx)(F,{tournamentOpen:t,team:e})},e.id)}));return Object(P.jsx)(D.a,{className:"team-list h-layout align-left",children:u})};n(81);var _=function(e){var t=e.achievement;return Object(P.jsxs)("div",{className:"card v-layout",children:[Object(P.jsx)("div",{children:Object(P.jsx)("i",{className:"fa-2x fas fa-"+t.icon,style:{color:t.iconColor}})}),Object(P.jsx)("h3",{className:"text-sm text-accent mt",children:t.name}),Object(P.jsx)("div",{className:"text-lg mb",children:t.player}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("span",{className:"text-sm text-accent",children:[t.attr,": "]}),t.value]}),Object(P.jsxs)("div",{className:"mt text-sm text-hint",children:["(",t.description,")"]})]})};n(82);var G=function(e){var t=e.result,n=[];if(t.players.length>0){var a=g.a.maxBy(g.a.shuffle(t.players),(function(e){return e.kills})),c=g.a.minBy(g.a.shuffle(t.players),(function(e){return e.kills})),s=g.a.maxBy(g.a.shuffle(t.players),(function(e){return e.damage})),r=g.a.minBy(g.a.shuffle(t.players),(function(e){return e.damage})),i=g.a.maxBy(g.a.shuffle(t.players),(function(e){return e.points})),l=g.a.minBy(g.a.shuffle(t.players),(function(e){return e.points}));n.push({name:"Assassin",player:a.player,attr:"Kills",value:a.kills,description:"Highest Kills",icon:"crosshairs",iconColor:"yellow"}),n.push({name:"Butcher",player:s.player,attr:"Damage",value:s.damage,description:"Highest Damage",icon:"tint",iconColor:"red"}),n.push({name:"Support",player:i.player,attr:"Match Pts",value:i.points,description:"Highest Points",icon:"toolbox",iconColor:"aqua"}),n.push({name:"Bird Hunter",player:c.player,attr:"Kills",value:c.kills,description:"Lowest Kills",icon:"dove",iconColor:"aliceblue"}),n.push({name:"Sleeping",player:r.player,attr:"Damage",value:r.damage,description:"Lowest Damage",icon:"bed",iconColor:"gray"}),n.push({name:"Load",player:l.player,attr:"Match Pts",value:l.points,description:"Lowest Points",icon:"weight-hanging",iconColor:"purple"})}var o=n.map((function(e,t){return Object(P.jsx)(_,{achievement:e},t)}));return Object(P.jsx)("div",{className:"achievement-list h-layout align-stretch",children:o})};n(83);var J=function(e){var t=e.tournament,n=Object(a.useState)(0),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)({players:[],teams:[]}),o=Object(i.a)(l,2),u=o[0],j=o[1];Object(a.useEffect)((function(){var e=document.getElementById("result-slider");e.scrollTo({top:0,left:e.scrollWidth/4*s,behavior:"smooth"})}),[s]),Object(a.useEffect)((function(){j(w.tournaments().getResults(t))}),[t]);var m=u.players.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:t+1}),Object(P.jsx)("td",{children:e.player}),Object(P.jsx)("td",{children:e.kills}),Object(P.jsx)("td",{children:e.points}),Object(P.jsx)("td",{children:parseInt(e.kills)+parseInt(e.points)})]},"playerScore-"+t)})),d=u.teams.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:t+1}),Object(P.jsx)("td",{children:e.name?e.name:e.teamId.substring(0,4)}),Object(P.jsx)("td",{children:e.kills}),Object(P.jsx)("td",{children:e.points}),Object(P.jsx)("td",{children:parseInt(e.kills)+parseInt(e.points)})]},"teamScore-"+t)}));return Object(P.jsxs)("div",{className:"v-layout result mt-3",children:[Object(P.jsx)("h3",{children:"Results"}),Object(P.jsxs)("div",{id:"result-slider",className:"result-slider",children:[Object(P.jsx)("div",{className:"result-slide v-layout justify-right",children:u.players.length>0&&Object(P.jsxs)("div",{className:"h-layout align-right",style:{minHeight:"400px"},children:[u.players.length>1&&Object(P.jsxs)("div",{className:"place second-place",children:[Object(P.jsx)("div",{className:"text-xl",children:u.players[1].player}),Object(P.jsxs)("div",{className:"box v-layout",children:[Object(P.jsxs)("h1",{className:"text-white m0",children:["2",Object(P.jsx)("span",{className:"text-sm",children:"nd"})]}),Object(P.jsxs)("span",{className:"text-sm mt",children:[parseInt(u.players[1].kills)+parseInt(u.players[1].points)," Pts"]})]}),Object(P.jsxs)("div",{className:"v-layout text-sm mt",children:[Object(P.jsxs)("span",{children:["Kills: ",u.players[1].kills]}),Object(P.jsxs)("span",{children:["Match Pts: ",u.players[1].points]})]})]}),u.players.length>0&&Object(P.jsxs)("div",{className:"place first-place ml mr",children:[Object(P.jsx)("div",{className:"text-xl",children:u.players[0].player}),Object(P.jsxs)("div",{className:"box v-layout",children:[Object(P.jsxs)("h1",{className:"text-white m0",children:["1",Object(P.jsx)("span",{className:"text-sm",children:"st"})]}),Object(P.jsxs)("span",{className:"text-sm mt",children:[parseInt(u.players[0].kills)+parseInt(u.players[0].points)," Pts"]})]}),Object(P.jsxs)("div",{className:"v-layout text-sm mt",children:[Object(P.jsxs)("span",{children:["Kills: ",u.players[0].kills]}),Object(P.jsxs)("span",{children:["Match Pts: ",u.players[0].points]})]})]}),u.players.length>2&&Object(P.jsxs)("div",{className:"place third-place",children:[Object(P.jsx)("div",{className:"text-xl",children:u.players[2].player}),Object(P.jsxs)("div",{className:"box v-layout",children:[Object(P.jsxs)("h1",{className:"text-white m0",children:["3",Object(P.jsx)("span",{className:"text-sm",children:"rd"})]}),Object(P.jsxs)("span",{className:"text-sm mt",children:[parseInt(u.players[2].kills)+parseInt(u.players[2].points)," Pts"]})]}),Object(P.jsxs)("div",{className:"v-layout text-sm mt",children:[Object(P.jsxs)("span",{children:["Kills: ",u.players[2].kills]}),Object(P.jsxs)("span",{children:["Match Pts: ",u.players[2].points]})]})]})]})}),Object(P.jsxs)("div",{className:"result-slide v-layout",children:[Object(P.jsx)("h3",{className:"mt-3",children:"Player Score Table"}),Object(P.jsx)("div",{className:"table-container",children:Object(P.jsxs)("table",{children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"#"}),Object(P.jsx)("th",{children:"Player"}),Object(P.jsx)("th",{children:"Kills"}),Object(P.jsx)("th",{children:"Pts"}),Object(P.jsx)("th",{children:"Total"})]})}),Object(P.jsx)("tbody",{children:m})]})})]}),Object(P.jsxs)("div",{className:"result-slide v-layout",children:[Object(P.jsx)("h3",{className:"mt-3",children:"Team Score Table"}),Object(P.jsx)("div",{className:"table-container",children:Object(P.jsxs)("table",{children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"#"}),Object(P.jsx)("th",{style:{width:"100%"},children:"Team"}),Object(P.jsx)("th",{children:"Kills"}),Object(P.jsx)("th",{children:"Pts"}),Object(P.jsx)("th",{children:"Total"})]})}),Object(P.jsx)("tbody",{children:d})]})})]}),Object(P.jsxs)("div",{className:"result-slide v-layout",children:[Object(P.jsx)("h3",{className:"mt-3",children:"Achievements"}),Object(P.jsx)(G,{result:u})]})]}),Object(P.jsxs)("div",{className:"dots",children:[Object(P.jsx)("div",{className:0===s?"active":"",onClick:function(){return r(0)}}),Object(P.jsx)("div",{className:1===s?"active":"",onClick:function(){return r(1)}}),Object(P.jsx)("div",{className:2===s?"active":"",onClick:function(){return r(2)}}),Object(P.jsx)("div",{className:3===s?"active":"",onClick:function(){return r(3)}})]})]})};n(84);var Q=function(e){var t=e.tournamentId,n=e.players,c=e.teamSize,s=e.onSave,r=Object(a.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(a.useState)([]),m=Object(i.a)(j,2),d=m[0],h=m[1];Object(a.useEffect)((function(){n.forEach((function(e,t){-1===d.indexOf(t)&&(document.getElementById(e+"_checkbox").checked=!1)})),b()}),[d]);var b=function(){u(d.length===parseInt(c))},f=n.map((function(e,t){return Object(P.jsxs)("div",{className:"h-layout mt",children:[Object(P.jsx)("label",{htmlFor:e+"_checkbox",className:"flex-grow",children:e}),Object(P.jsx)("input",{type:"checkbox",id:e+"_checkbox",checked:d.indexOf(t)>-1,onChange:function(e){return function(e,t){var n=Object(v.a)(d);if(t)n.push(e);else{var a=d.indexOf(e);a>-1&&n.splice(a,1)}var s=n.slice(Math.max(0,n.length-c),n.length);h(s)}(t,e.target.checked)}})]},t)}));return Object(P.jsxs)("div",{className:"v-layout align-stretch",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{className:"text-accent",children:"Players"}),f]}),Object(P.jsx)("button",{className:"mt",onClick:function(){o&&w.names().getName().then((function(e){w.tournaments().saveTeam(t,{name:e,tournamentId:t,players:d.map((function(e){return n[e]})),matches:[]}),s(d)}))},disabled:!o,children:"save"})]})},X=(n(85),[]);var Z=function(e){var t=e.tournamentId,n=e.teamSize,c=e.players,s=e.onSave,r=Object(a.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(a.useState)([{name:"",players:[]}]),m=Object(i.a)(j,2),b=m[0],f=m[1];Object(a.useEffect)((function(){p().then((function(){O()})).catch((function(e){u(e.message)}))}),[]);var p=function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X=[],t=c.length/n,a=0;case 3:if(!(a<t)){e.next=11;break}return e.next=6,w.names().getName();case 6:s=e.sent,X.push("undefined undefined"===s?Object(E.a)().substring(0,4):s);case 8:a++,e.next=3;break;case 11:return e.abrupt("return",X);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){for(var e=c.length/n,a=g.a.shuffle(c),s=[],r=0;r<e;r++){for(var i=[],l=0;l<n;l++)i.push(a[r*n+l]);s.push({id:Object(E.a)(),name:X[r],tournamentId:t,players:i,matches:[]})}f(s)},x=function(e){w.tournaments().saveTeams(t,e)},v=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(b),e.next=3,p();case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=b.map((function(e,t){var n=e.players.map((function(e){return Object(P.jsx)("span",{className:"mr",children:e},e)}));return Object(P.jsxs)("div",{className:"mb-3",children:[Object(P.jsx)("h3",{children:e.name}),Object(P.jsx)("div",{className:"h-layout justify-left",children:n})]},t)}));return Object(P.jsxs)("div",{children:[o&&Object(P.jsx)("span",{children:o}),y,Object(P.jsxs)("div",{className:"h-layout justify-stretch",children:[Object(P.jsx)("button",{className:"flex-grow",onClick:function(){return O()},children:"Generate"}),Object(P.jsx)("button",{className:"ml",onClick:function(){return v()},children:"save"})]})]})};var V=function(e){var t=Object(a.useState)([!1]),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([!1]),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(a.useState)({name:"",teamSize:0,players:[],teams:[]}),m=Object(i.a)(j,2),d=m[0],h=m[1];Object(a.useEffect)((function(){w.tournaments().detach(),b()}),[]);var b=function(){w.tournaments().read((function(e){h(e)}),e.match.params.id)},f=d.players.map((function(e,t){return Object(P.jsx)("span",{className:"mr",children:e},t)}));return Object(P.jsxs)("div",{className:"tournament v-layout",children:[Object(P.jsx)("h2",{children:d.name}),Object(P.jsxs)("div",{className:"mb h-layout",children:[Object(P.jsxs)("div",{className:"mr-3",children:[Object(P.jsx)("span",{className:"text-accent text-sm",children:"Date"})," ",L()(d.created).format("MM/DD/YYYY")]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:"text-accent text-sm",children:"Team size"})," ",d.teamSize]})]}),Object(P.jsx)("div",{className:"h-layout",children:f}),d.teams&&Object(P.jsx)(J,{tournament:d}),Object(P.jsx)("h3",{className:"mt-3",children:"Teams"}),d.open&&Object(P.jsxs)("div",{className:"h-layout",children:[Object(P.jsx)("button",{className:"mr btn--danger",onClick:function(){w.tournaments().close(d.id)},children:"Close Tournament"}),Object(P.jsx)("button",{className:"mr",onClick:function(){return u([!0])},children:"Generate Teams"}),Object(P.jsx)("button",{onClick:function(){return s([!0])},children:"Add Team"})]}),d.teams&&Object(P.jsx)(U,{tournamentOpen:d.open,tournamentId:d.id}),Object(P.jsx)(T,{isOpen:c,onRequestClose:function(){return s([!1])},size:"sm",children:Object(P.jsx)(Q,{tournamentId:d.id,players:d.players,teamSize:d.teamSize,onSave:function(e){s([!1])}})}),Object(P.jsx)(T,{isOpen:o,onRequestClose:function(){return u([!1])},size:"sm",children:Object(P.jsx)(Z,{tournamentId:d.id,teamSize:d.teamSize,players:d.players,onSave:function(e){u([!1])}})})]})};n(86);var $=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1],j=Object(a.useState)(!1),m=Object(i.a)(j,2),d=m[0],h=m[1];return Object(a.useEffect)((function(){h(""!==n&&""!=o)}),[n,o]),Object(P.jsxs)("div",{className:"login-container v-layout",children:[Object(P.jsxs)("div",{className:"login v-layout ml-3 mr-3",children:[Object(P.jsx)("h2",{children:"Warzone Tournaments"}),Object(P.jsx)("input",{className:"mt-3",type:"email",name:"email",placeholder:"Email",value:n,onChange:function(e){return c(e.target.value)}}),Object(P.jsx)("input",{className:"mt-2 mb-3",type:"password",name:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)}}),Object(P.jsx)("button",{className:"mt-3",onClick:function(){w.auth().login(n,o)},disabled:!d,children:"LOGIN"}),Object(P.jsxs)("div",{className:"h-layout text-sm mt-3",children:["don't have an account?",Object(P.jsx)("span",{className:"btn--secondary",children:Object(P.jsx)(l.b,{to:"/signup",children:"Sign up"})})]})]}),Object(P.jsx)("div",{className:"socials h-layout mt-2",children:Object(P.jsx)("button",{className:"mr mt",onClick:function(){return w.auth().googleLogin()},children:Object(P.jsx)("i",{className:"fa-2x fab fa-google"})})})]})};n(89);var ee=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1],j=Object(a.useState)(""),m=Object(i.a)(j,2),d=m[0],h=m[1],b=Object(a.useState)(!1),f=Object(i.a)(b,2),p=f[0],O=f[1];return Object(a.useEffect)((function(){O(""!==n&&""!=o&&o===d)}),[n,o,d]),Object(P.jsx)("div",{className:"login-container v-layout",children:Object(P.jsxs)("div",{className:"login v-layout ml-3 mr-3",children:[Object(P.jsx)("h2",{children:"Warzone Tournaments"}),Object(P.jsx)("input",{className:"mt-3",type:"email",name:"email",placeholder:"Email",value:n,onChange:function(e){return c(e.target.value)}}),Object(P.jsx)("input",{className:"mt-2",type:"password",name:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)}}),Object(P.jsx)("input",{className:"mt-2 mb-3",type:"password",name:"password",placeholder:"Confirm Password",value:d,onChange:function(e){return h(e.target.value)}}),Object(P.jsx)("button",{className:"mt-3",onClick:function(){w.auth().signup(n,o)},disabled:!p,children:"Sign up"}),Object(P.jsxs)("div",{className:"h-layout text-sm mt-3",children:["already have an account?",Object(P.jsx)("span",{className:"btn--secondary",children:Object(P.jsx)(l.b,{to:"/login",children:"Login"})})]})]})})};n(90);var te=function(){var e=w.auth().loggedUser();return Object(P.jsxs)("div",{className:"top-bar",children:[Object(P.jsx)("img",{className:"avatar mr",src:e.photoURL}),Object(P.jsx)("h3",{className:"text-sm",children:e.displayName?e.displayName:e.email.split("@")[0]}),Object(P.jsx)("button",{className:"btn--secondary",onClick:function(){w.auth().logout()},children:Object(P.jsx)("i",{className:"fa fa-power-off"})})]})};var ne=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){w.auth().liveLoggedUser((function(e){console.log(e),c(e)}))})),n?Object(P.jsxs)("div",{className:"app",children:[Object(P.jsx)("div",{className:"app-bg"}),null!==n&&Object(P.jsxs)("div",{className:"app-content",children:[Object(P.jsx)(te,{}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(o.d,{children:[Object(P.jsx)(o.b,{path:"/tournament/:id",component:V}),Object(P.jsx)(o.b,{path:"/",children:Object(P.jsx)(R,{})})]})})]})]}):Object(P.jsxs)("div",{className:"app",children:[Object(P.jsx)("div",{className:"app-bg"}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(o.d,{children:[Object(P.jsx)(o.a,{exact:!0,from:"/",to:"/login"}),Object(P.jsx)(o.b,{path:"/signup",children:Object(P.jsx)(ee,{})}),Object(P.jsx)(o.b,{path:"/login",children:Object(P.jsx)($,{})})]})})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[91,1,2]]]);
//# sourceMappingURL=main.c51ea96e.chunk.js.map