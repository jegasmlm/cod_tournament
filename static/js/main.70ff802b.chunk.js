(this.webpackJsonpcod_tournament=this.webpackJsonpcod_tournament||[]).push([[0],{43:function(e){e.exports=JSON.parse('[{"created":"2021-03-25T11:00:00.000Z","id":"50945ef0-498e-4755-9db6-a4b26ec9a271","name":"Test","teamSize":"4","players":["JEGA","Felducci","Joan","Onemi","MrRobot","Tesseract","Weedtoco","Christiam"],"teams":[{"id":"03b2d167-8a85-45ee-afa8-63c0a8a073f0","tournamentId":"50945ef0-498e-4755-9db6-a4b26ec9a271","players":["JEGA","MrRobot","Christiam","Felducci"],"matches":[{"id":"2029155f-009f-429e-aaae-01fbb02bf2fd","position":"1","teamScore":[{"player":"JEGA","kills":"9","damage":"3967"},{"player":"MrRobot","kills":"6","damage":"3597"},{"player":"Christiam","kills":"1","damage":"951"},{"player":"Felducci","kills":"5","damage":"2569"}]},{"id":"c4699cce-055b-494c-9ce2-e5591bd504fa","position":"1","teamScore":[{"player":"JEGA","kills":"9","damage":"3138"},{"player":"MrRobot","kills":"3","damage":"1838"},{"player":"Christiam","kills":"2","damage":"876"},{"player":"Felducci","kills":"4","damage":"2255"}]}]},{"id":"b3fcbb49-a3d5-40f8-9e3e-198c9abf393f","tournamentId":"50945ef0-498e-4755-9db6-a4b26ec9a271","players":["Joan","Onemi","Tesseract","Weedtoco"],"matches":[{"id":"171287b0-9667-4c21-9813-1dcfb8774e58","position":"5","teamScore":[{"player":"Joan","kills":"0","damage":"729"},{"player":"Onemi","kills":"4","damage":"1674"},{"player":"Tesseract","kills":"4","damage":"1870"},{"player":"Weedtoco","kills":"0","damage":"210"}]},{"id":"24f60718-475f-4363-a02f-4dc043fd4fa5","position":"5","teamScore":[{"player":"Joan","kills":"0","damage":"413"},{"player":"Onemi","kills":"4","damage":"1779"},{"player":"Tesseract","kills":"0","damage":"975"},{"player":"Weedtoco","kills":"1","damage":"962"}]}]},{"id":"ce2f8c7d-e170-481a-9e5e-72f6ca721e87","tournamentId":"50945ef0-498e-4755-9db6-a4b26ec9a271","players":["JEGA","Felducci","Christiam","Weedtoco"],"matches":[{"id":"0ecdc158-3b17-4fcb-94e0-7d7246e6be41","position":"5","teamScore":[{"player":"JEGA","kills":"9","damage":"3068"},{"player":"Felducci","kills":"0","damage":"885"},{"player":"Christiam","kills":"2","damage":"1271"},{"player":"Weedtoco","kills":"2","damage":"1283"}]},{"id":"a6ee37fa-bfa8-457c-a319-0851b0d2cecd","position":"4","teamScore":[{"player":"JEGA","kills":"5","damage":"2152"},{"player":"Felducci","kills":"3","damage":"1968"},{"player":"Christiam","kills":"1","damage":"874"},{"player":"Weedtoco","kills":"1","damage":"1418"}]}]},{"id":"bcea0639-23b2-4096-8a50-69275d3760b4","tournamentId":"50945ef0-498e-4755-9db6-a4b26ec9a271","players":["MrRobot","Joan","Onemi","Tesseract"],"matches":[{"id":"ba46cc10-9048-4d22-b66e-24ceb10932cb","position":"4","teamScore":[{"player":"MrRobot","kills":"4","damage":"2886"},{"player":"Joan","kills":"4","damage":"1786"},{"player":"Onemi","kills":"4","damage":"2586"},{"player":"Tesseract","kills":"7","damage":"2628"}]},{"id":"2103095f-e7ec-4db4-9cd2-3009978541e5","position":"3","teamScore":[{"player":"MrRobot","kills":"3","damage":"1331"},{"player":"Joan","kills":"4","damage":"1009"},{"player":"Onemi","kills":"0","damage":"1732"},{"player":"Tesseract","kills":"3","damage":"962"}]}]}]}]')},51:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(19),r=a.n(c),i=(a(51),a(52),a(44)),l=a(9),o=a(5),u=a(17),d=a(18),m=a(3),j=a.n(m),h=a(8),p=a(26);a(54);p.a.initializeApp({apiKey:"AIzaSyAQ2d6W3c1EpZ27yNxaBp8p0yIRWOIb1uE",authDomain:"warzonetournament-247ef.firebaseapp.com",projectId:"warzonetournament-247ef",storageBucket:"warzonetournament-247ef.appspot.com",messagingSenderId:"350451124321",appId:"1:350451124321:web:2a40d2cb3c5245139cc220",measurementId:"G-2GMB0XHEP4"});var b=p.a.database(),f=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"detach",value:function(){b.ref("tournaments").off()}},{key:"getTournaments",value:function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.ref("tournaments").once("value").then((function(e){return JSON.parse(e.val())})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLiveTournaments",value:function(e){p.a.database().ref("tournaments").on("value",(function(t){e(JSON.parse(t.val()))}))}},{key:"saveTournaments",value:function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.ref("tournaments").set(JSON.stringify(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=a(12),O=a(6),v=a.n(O),y=a(43),g=function(){function e(t){Object(u.a)(this,e),localStorage.getItem("tournaments")||localStorage.setItem("tournaments",JSON.stringify(y)),this.firebase=t}return Object(d.a)(e,[{key:"save",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.list();case 2:return(a=e.sent).push(t),e.abrupt("return",this.saveList(a));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(h.a)(j.a.mark((function e(t,a){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.list();case 2:return n=e.sent,s=this.searchById(n,t),n[s]=a,e.abrupt("return",this.saveList(n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.list();case 2:return a=e.sent,n=this.searchById(a,t),a.splice(n,1),this.saveList(a),e.abrupt("return",1);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveList",value:function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.firebase.saveTournaments(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"detach",value:function(){this.firebase.detach()}},{key:"liveList",value:function(e){this.firebase.getLiveTournaments(e)}},{key:"list",value:function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.firebase.getTournaments());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(h.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.list();case 2:return a=e.sent,n=this.searchById(a,t),e.abrupt("return",a[n]);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveTeam",value:function(){var e=Object(h.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t);case 2:return(n=e.sent).teams||(n.teams=[]),n.teams=[a].concat(Object(x.a)(n.teams)),this.update(t,n),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveTeams",value:function(){var e=Object(h.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t);case 2:return(n=e.sent).teams||(n.teams=[]),n.teams=[].concat(Object(x.a)(a),Object(x.a)(n.teams)),this.update(t,n),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteTeam",value:function(){var e=Object(h.a)(j.a.mark((function e(t,a){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t);case 2:return(n=e.sent).teams||(n.teams=[]),s=this.searchById(n.teams,a),n.teams.splice(s,1),this.update(t,n),e.abrupt("return",1);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveMatch",value:function(){var e=Object(h.a)(j.a.mark((function e(t,a,n){var s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t);case 2:return(s=e.sent).teams||(s.teams=[]),c=this.searchById(s.teams,a),s.teams[c].matches.push(n),this.update(t,s),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteMatch",value:function(){var e=Object(h.a)(j.a.mark((function e(t,a,n){var s,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.read(t);case 2:return(s=e.sent).teams||(s.teams=[]),c=this.searchById(s.teams,a),r=this.searchById(s.teams[c].matches,n),s.teams[c].matches.splice(r,1),this.update(t,s),e.abrupt("return",1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"searchById",value:function(e,t){var a=-1;return e.forEach((function(e,n){e.id===t&&(a=n)})),a}},{key:"getMatchPoint",value:function(e){return this.getPositionPoint(e.position)+this.getMatchKills(e)}},{key:"getMatchKills",value:function(e){return v.a.sum(e.teamScore.map((function(e){return parseInt(e.kills)})))}},{key:"getPositionPoint",value:function(e){switch(e){case"1":return 20;case"2":return 15;case"3":return 10;case"4":return 5;case"5":return 3;case"6":return 2;default:return 0}}},{key:"getKillPoint",value:function(e){return e}},{key:"getDamagePoint",value:function(e){return 0}},{key:"getScorePoint",value:function(e){return 0}},{key:"getResults",value:function(e){var t=this,a=Object(x.a)(e.players),n={};a.forEach((function(a){n[a]||(n[a]={player:a,kills:0,damage:0,points:0,total:0}),e.teams.forEach((function(e){e.matches.forEach((function(s){e.players.indexOf(a)>-1&&(n[a].points+=t.getPositionPoint(s.position),n[a].total+=t.getPositionPoint(s.position)),s.teamScore.forEach((function(e){a===e.player&&(n[a].kills+=parseInt(e.kills),n[a].damage+=parseInt(e.damage),n[a].total+=parseInt(e.kills))}))}))}))}));var s=[];return Object.keys(n).forEach((function(e){s.push(n[e])})),{players:v.a.orderBy(s,["total"],["desc"]),teams:v.a.orderBy(e.teams.map((function(e){var a=v.a.sumBy(e.matches,(function(e){return v.a.sumBy(e.teamScore,(function(e){return parseInt(e.kills)}))})),n=v.a.sumBy(e.matches,(function(e){return t.getPositionPoint(e.position)}));return{players:e.players,kills:a,damage:v.a.sumBy(e.matches,(function(e){return v.a.sumBy(e.teamScore,(function(e){return parseInt(e.damage)}))})),points:n,total:a+n}})),["total"],["desc"])}}}]),e}(),N=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"fetchAdjective",value:function(){var e=Object(h.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new XMLHttpRequest).open("GET","http://api.wordnik.com:80/v4/words.json/randomWord?hasDictionaryDef=true&includePartOfSpeech=adjective&excludePartOfSpeech=noun&minCorpusCount=4000&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=5&maxLength=-1&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",!1),t.send(),a=t.response,e.abrupt("return",JSON.parse(a).word);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNoun",value:function(){var e=Object(h.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new XMLHttpRequest).open("GET","http://api.wordnik.com:80/v4/words.json/randomWord?hasDictionaryDef=false&includePartOfSpeech=noun&minCorpusCount=100000&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=5&maxLength=-1&api_key=a2a73e7b926c924fad7001ca3111acd55af2ffabf50eb4ae5",!1),t.send(),a=t.response,e.abrupt("return",JSON.parse(a).word);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getName",value:function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchNoun();case 2:return e.t0=e.sent,e.t1=e.t0+" ",e.next=6,this.fetchAdjective();case 6:return e.t2=e.sent,e.abrupt("return",e.t1+e.t2);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),k=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"tournaments",value:function(){return new g(new f)}},{key:"names",value:function(){return new N}}]),e}()),S=a(34),w=a.n(S),C=a(1);w.a.setAppElement("#root");var I=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=a[0],c=a[1],r={inset:"auto",minWith:"99vw",maxHeight:"80vh",overflow:"auto",width:"lg"===e.size?"90%":"md"===e.size?"60%":"auto",padding:"0",backgroundColor:"#111e",border:"1px solid #2f2c",borderRadius:"0px",boxShadow:"0px 0px 20px rgb(0, 0, 0, .4)"};Object(n.useEffect)((function(){return c(e.isOpen[0])}),[e]);return Object(C.jsxs)(w.a,{isOpen:s,onRequestClose:e.onRequestClose,closeTimeoutMS:300,style:{overlay:{backgroundColor:"#000a"},content:r},children:[Object(C.jsx)("div",{className:"h-layout justify-right",children:Object(C.jsx)("button",{className:"btn--secondary",onClick:function(){return e.isOpen[0]=!1,void c(!1)},children:Object(C.jsx)("i",{className:"fa fa-times"})})}),Object(C.jsx)("div",{className:"container v-layout align-stretch",style:{paddingTop:"0"},children:e.children})]})},P=a(89),T=(a(70),a(88)),M=a(90);var E=function(e){var t=e.onSave,a=Object(n.useState)(!1),s=Object(o.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),u=l[0],d=l[1],m=Object(n.useState)(4),j=Object(o.a)(m,2),h=j[0],p=j[1],b=Object(n.useState)([{id:Object(P.a)(),name:""},{id:Object(P.a)(),name:""},{id:Object(P.a)(),name:""},{id:Object(P.a)(),name:""}]),f=Object(o.a)(b,2),O=f[0],v=f[1];Object(n.useEffect)((function(){y()}),[u,h,O]);var y=function(){var e=!0,t=[];O.forEach((function(a){""===a||t.indexOf(a)>-1?e=!1:t.push(a)})),r(""!==u&&""!==h&&e)},g=O.map((function(e,t){return Object(C.jsx)(T.a,{timeout:400,classNames:"input-list-item",children:Object(C.jsxs)("div",{className:"mb h-layout justify-stretch",children:[Object(C.jsx)("input",{className:"flex-grow",id:"playerNameInput"+t,type:"text",value:e.name,placeholder:"Player Name",onChange:function(e){return function(e,t){var a=Object(x.a)(O);a[e].name=t,v(a)}(t,e.target.value)}}),Object(C.jsx)("button",{className:"btn--secondary text-accent",onClick:function(){return function(e){var t=Object(x.a)(O);t.splice(e,1),v(t)}(t)},children:Object(C.jsx)("i",{className:"fa fa-minus"})})]})},e.id)}));return Object(C.jsxs)("div",{className:"mt v-layout align-stretch",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"form-group h-layout",children:Object(C.jsx)("input",{className:"flex-grow",id:"tournamentNameInput",type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Tournament Name"})}),Object(C.jsxs)("div",{className:"form-group h-layout",children:[Object(C.jsx)("label",{className:"flex-grow",htmlFor:"teamSizeInput",children:"Team size"}),Object(C.jsx)("input",{id:"teamSizeInput",type:"number",value:h,onChange:function(e){return p(e.target.value)},autoComplete:"off",min:"1",max:"4"})]})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"h-layout justify-left",children:[Object(C.jsx)("h3",{className:"flex-grow",children:"Players"}),Object(C.jsx)("button",{className:"btn--secondary",onClick:function(){v([].concat(Object(x.a)(O),[{id:Object(P.a)(),name:""}]))},children:Object(C.jsx)("i",{className:"fa fa-plus"})})]}),Object(C.jsx)(M.a,{children:g})]}),Object(C.jsx)("button",{onClick:function(){c&&k.tournaments().save({id:Object(P.a)(),created:new Date,name:u,teamSize:h,players:O.map((function(e){return e.name})),teams:[]}).then((function(e){t()}))},disabled:!c,children:"save"})]})},B=a(22),D=a.n(B);a(71);var z=function(e){var t=e.tournament,a=t.players.map((function(e,t){return Object(C.jsx)("span",{className:"mr-3 text-sm",children:e},e)}));return Object(C.jsxs)("div",{className:"card tournament-card",onClick:function(){return window.location="#tournament/"+t.id},children:[Object(C.jsxs)("div",{className:"h-layout",children:[Object(C.jsx)("h3",{className:"flex-grow mr-3",children:t.name}),Object(C.jsx)("button",{className:"btn--secondary",onClick:function(e){return function(e){e.stopPropagation(),k.tournaments().delete(t.id)}(e)},children:Object(C.jsx)("i",{className:"fas fa-trash"})})]}),Object(C.jsx)("span",{className:"text-sm text-hint",children:D()(t.created).format("MM/DD/YYYY")}),Object(C.jsxs)("p",{children:["Team size: ",t.teamSize]}),Object(C.jsx)("h3",{children:"Players"}),Object(C.jsx)("div",{className:"h-layout justify-left",children:a})]})};a(72);var J=function(e){var t=e.tournaments.map((function(e){return Object(C.jsx)(T.a,{timeout:400,classNames:"card",children:Object(C.jsx)(z,{tournament:e})},e.id)}));return Object(C.jsx)(M.a,{className:"h-layout tournament-list align-left",children:t})};a(73);var L=function(){var e=Object(n.useState)([!1]),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(o.a)(c,2),i=r[0],l=r[1];Object(n.useEffect)((function(){k.tournaments().detach(),d()}),[]);var u=function(){s([!1])},d=function(){k.tournaments().liveList((function(e){l(e)}))};return Object(C.jsxs)("div",{className:"home v-layout",children:[Object(C.jsx)("div",{className:"flex-grow v-layout start-tournament-btn",children:Object(C.jsx)("button",{onClick:function(){return s([!0])},children:"Start Tournament"})}),Object(C.jsx)("h3",{children:"Tournaments"}),Object(C.jsx)(J,{tournaments:i}),Object(C.jsx)(I,{isOpen:a,onRequestClose:u,size:"sm",children:Object(C.jsx)(E,{onSave:function(){return d(),void u()}})})]})},R=(a(74),a(27));a(75);var A=function(e){var t=e.team,a=e.onSave,s=Object(n.useState)(!1),c=Object(o.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)({id:Object(P.a)(),created:new Date,position:"",teamScore:t.players.map((function(e){return{player:e,kills:"",damage:""}}))}),u=Object(o.a)(l,2),d=u[0],m=u[1];Object(n.useEffect)((function(){j()}),[d]);var j=function(){var e=!0;d.teamScore.forEach((function(t){""!==t.kills&&""!==t.damage||(e=!1)})),i(""!==d.position&&e)},h=d.teamScore.map((function(e,t){return Object(C.jsxs)("div",{className:"form-group match-player-form",children:[Object(C.jsx)("label",{className:"flex-grow mr",children:e.player}),Object(C.jsx)("input",{id:"playerNameInput"+t,type:"number",value:e.kills,placeholder:"Kills",onChange:function(e){return function(e,t){var a=Object(R.a)({},d);a.teamScore[e].kills=t,m(a)}(t,e.target.value)},autoComplete:"off",min:"1",max:"100"}),Object(C.jsx)("input",{id:"playerNameInput"+t,type:"number",value:e.damage,placeholder:"Dmg",onChange:function(e){return function(e,t){var a=Object(R.a)({},d);a.teamScore[e].damage=t,m(a)}(t,e.target.value)},autoComplete:"off",min:"1",max:"100000"})]},t)}));return Object(C.jsxs)("div",{className:"v-layout align-stretch",children:[Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"form-group h-layout",children:[Object(C.jsx)("label",{className:"flex-grow",htmlFor:"matchPositionInput",children:"Match Position"}),Object(C.jsx)("input",{id:"matchPositionInput",type:"number",value:d.position,onChange:function(e){return function(e){var t=Object(R.a)({},d);t.position=e,m(t)}(e.target.value)},autoComplete:"off",min:"1",max:"99"})]})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"flex-grow text-accent",children:"Players"}),h]}),Object(C.jsx)("button",{onClick:function(){r&&k.tournaments().saveMatch(t.tournamentId,t.id,d).then((function(e){a(e)}))},disabled:!r,children:"save"})]})};a(76);var K=function(e){var t=e.match,a=e.onDelete,s=k.tournaments(),c=Object(n.useState)(!1),r=Object(o.a)(c,2),i=r[0],l=r[1],u=t.teamScore.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.player}),Object(C.jsx)("td",{children:e.kills}),Object(C.jsx)("td",{children:e.damage})]},t)}));return Object(C.jsxs)("div",{id:t.id,className:"match card",onClick:function(){return l(!i)},children:[Object(C.jsxs)("div",{className:"h-layout text-sm",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"text-accent text-bold",children:"Kills: "}),s.getMatchKills(t)]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"text-accent text-bold ml",children:"Pts: "}),s.getPositionPoint(t.position)]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"text-accent text-bold ml",children:"Total: "}),s.getMatchPoint(t)]}),Object(C.jsx)("div",{className:"ml",onClick:function(e){return a(e,t)},children:Object(C.jsx)("i",{className:"fas fa-trash"})})]}),Object(C.jsxs)("div",{className:(i?"match--open":"")+" mt match-detail",style:{maxHeight:i?document.querySelector("#".concat(CSS.escape(t.id)," .match-detail")).scrollHeight+"px":0},children:[t.created&&Object(C.jsxs)("div",{className:"text-sm",children:["Date: ",D()(t.created).format("MM/DD/YYYY")]}),Object(C.jsxs)("div",{className:"text-sm",children:["Position: ",t.position]}),Object(C.jsxs)("table",{className:"mt",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{width:"100%"},children:"Player"}),Object(C.jsx)("th",{children:"Kills"}),Object(C.jsx)("th",{children:"Dmg"})]})}),Object(C.jsx)("tbody",{children:u})]})]})]})};a(77);var F=function(e){var t=e.matches,a=e.onDelete,n=t.map((function(e,t){return Object(C.jsx)(T.a,{timeout:400,classNames:"card",children:Object(C.jsx)(K,{match:e,onDelete:a})},e.id)}));return Object(C.jsx)(M.a,{className:"match-list",children:n})};a(78);var G=function(e){var t=e.team,a=Object(n.useState)([!1]),s=Object(o.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(n.useEffect)((function(){d(t.matches)}),[t]);var m=function(){r([!1])},j=t.players.map((function(e,t){return Object(C.jsx)("span",{className:"mr text-sm",children:e},t)}));return Object(C.jsxs)("div",{className:"card v-layout align-stretch",children:[Object(C.jsxs)("div",{className:"h-layout",children:[Object(C.jsx)("h3",{className:"text-sm flex-grow",children:t.name?t.name:"Team "+t.id.substring(0,4)}),Object(C.jsx)("button",{className:"btn--secondary",onClick:function(){k.tournaments().deleteTeam(t.tournamentId,t.id)},children:Object(C.jsx)("i",{className:"fas fa-trash"})})]}),Object(C.jsx)("button",{className:"btn--tertiary flex-grow",onClick:function(){return r([!0])},children:"Add Match"}),Object(C.jsx)("h4",{className:"text-accent",children:"Players"}),Object(C.jsx)("div",{className:"h-layout justify-stretch",children:j}),Object(C.jsx)("h4",{className:"text-accent",children:"Matches"}),Object(C.jsx)(F,{matches:u,onDelete:function(e,a){return function(e,a){e.stopPropagation(),k.tournaments().deleteMatch(t.tournamentId,t.id,a.id)}(e,a)}}),Object(C.jsx)(I,{isOpen:c,onRequestClose:m,size:"sm",children:Object(C.jsx)(A,{team:t,onSave:function(e){return function(e){d([].concat(Object(x.a)(u),[e])),m()}(e)}})})]})};a(79);var W=function(e){var t=e.teams.map((function(e,t){return Object(C.jsx)(T.a,{timeout:400,classNames:"card",children:Object(C.jsx)(G,{team:e})},e.id)}));return Object(C.jsx)(M.a,{className:"team-list h-layout align-left",children:t})};a(80);var Y=function(e){var t=e.achievement;return Object(C.jsxs)("div",{className:"card v-layout",children:[Object(C.jsx)("div",{children:Object(C.jsx)("i",{className:"fa-2x fas fa-"+t.icon,style:{color:t.iconColor}})}),Object(C.jsx)("h3",{className:"text-sm text-accent mt",children:t.name}),Object(C.jsx)("div",{className:"text-lg mb",children:t.player}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("span",{className:"text-sm text-accent",children:[t.attr,": "]}),t.value]}),Object(C.jsxs)("div",{className:"mt text-sm text-hint",children:["(",t.description,")"]})]})};a(81);var H=function(e){var t=e.result,a=[];if(t.players.length>0){var n=v.a.maxBy(v.a.shuffle(t.players),(function(e){return e.kills})),s=v.a.minBy(v.a.shuffle(t.players),(function(e){return e.kills})),c=v.a.maxBy(v.a.shuffle(t.players),(function(e){return e.damage})),r=v.a.minBy(v.a.shuffle(t.players),(function(e){return e.damage})),i=v.a.maxBy(v.a.shuffle(t.players),(function(e){return e.points})),l=v.a.minBy(v.a.shuffle(t.players),(function(e){return e.points}));a.push({name:"Assassin",player:n.player,attr:"Kills",value:n.kills,description:"Highest Kills",icon:"crosshairs",iconColor:"yellow"}),a.push({name:"Butcher",player:c.player,attr:"Damage",value:c.damage,description:"Highest Damage",icon:"tint",iconColor:"red"}),a.push({name:"Support",player:i.player,attr:"Match Pts",value:i.points,description:"Highest Points",icon:"toolbox",iconColor:"aqua"}),a.push({name:"Bird Hunter",player:s.player,attr:"Kills",value:s.kills,description:"Lowest Kills",icon:"dove",iconColor:"aliceblue"}),a.push({name:"Sleeping",player:r.player,attr:"Damage",value:r.damage,description:"Lowest Damage",icon:"bed",iconColor:"gray"}),a.push({name:"Load",player:l.player,attr:"Match Pts",value:l.points,description:"Lowest Points",icon:"weight-hanging",iconColor:"purple"})}var o=a.map((function(e,t){return Object(C.jsx)(Y,{achievement:e},t)}));return Object(C.jsx)("div",{className:"achievement-list h-layout align-stretch",children:o})};a(82);var q=function(e){var t=e.tournament,a=Object(n.useState)(0),s=Object(o.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)({players:[],teams:[]}),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(n.useEffect)((function(){var e=document.getElementById("result-slider");e.scrollTo({top:0,left:e.scrollWidth/4*c,behavior:"smooth"})}),[c]),Object(n.useEffect)((function(){d(k.tournaments().getResults(t))}),[t]);var m=u.players.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.player}),Object(C.jsx)("td",{children:e.kills}),Object(C.jsx)("td",{children:e.points}),Object(C.jsx)("td",{children:parseInt(e.kills)+parseInt(e.points)})]},"playerScore-"+t)})),j=u.teams.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.players.map((function(e,t){return Object(C.jsx)("span",{className:"mr text-sm",children:e},t)}))}),Object(C.jsx)("td",{children:e.kills}),Object(C.jsx)("td",{children:e.points}),Object(C.jsx)("td",{children:parseInt(e.kills)+parseInt(e.points)})]},"teamScore-"+t)}));return Object(C.jsxs)("div",{className:"v-layout result mt-3",children:[Object(C.jsx)("h3",{children:"Results"}),Object(C.jsxs)("div",{id:"result-slider",className:"result-slider",children:[Object(C.jsx)("div",{className:"result-slide v-layout justify-right",children:u.players.length>0&&Object(C.jsxs)("div",{className:"h-layout align-right",style:{minHeight:"400px"},children:[u.players.length>1&&Object(C.jsxs)("div",{className:"place second-place",children:[Object(C.jsx)("div",{className:"text-xl",children:u.players[1].player}),Object(C.jsxs)("div",{className:"box v-layout",children:[Object(C.jsxs)("h1",{className:"text-white m0",children:["2",Object(C.jsx)("span",{className:"text-sm",children:"nd"})]}),Object(C.jsxs)("span",{className:"text-sm mt",children:[parseInt(u.players[1].kills)+parseInt(u.players[1].points)," Pts"]})]}),Object(C.jsxs)("div",{className:"v-layout text-sm mt",children:[Object(C.jsxs)("span",{children:["Kills: ",u.players[1].kills]}),Object(C.jsxs)("span",{children:["Match Pts: ",u.players[1].points]})]})]}),u.players.length>0&&Object(C.jsxs)("div",{className:"place first-place ml mr",children:[Object(C.jsx)("div",{className:"text-xl",children:u.players[0].player}),Object(C.jsxs)("div",{className:"box v-layout",children:[Object(C.jsxs)("h1",{className:"text-white m0",children:["1",Object(C.jsx)("span",{className:"text-sm",children:"st"})]}),Object(C.jsxs)("span",{className:"text-sm mt",children:[parseInt(u.players[0].kills)+parseInt(u.players[0].points)," Pts"]})]}),Object(C.jsxs)("div",{className:"v-layout text-sm mt",children:[Object(C.jsxs)("span",{children:["Kills: ",u.players[0].kills]}),Object(C.jsxs)("span",{children:["Match Pts: ",u.players[0].points]})]})]}),u.players.length>2&&Object(C.jsxs)("div",{className:"place third-place",children:[Object(C.jsx)("div",{className:"text-xl",children:u.players[2].player}),Object(C.jsxs)("div",{className:"box v-layout",children:[Object(C.jsxs)("h1",{className:"text-white m0",children:["3",Object(C.jsx)("span",{className:"text-sm",children:"rd"})]}),Object(C.jsxs)("span",{className:"text-sm mt",children:[parseInt(u.players[2].kills)+parseInt(u.players[2].points)," Pts"]})]}),Object(C.jsxs)("div",{className:"v-layout text-sm mt",children:[Object(C.jsxs)("span",{children:["Kills: ",u.players[2].kills]}),Object(C.jsxs)("span",{children:["Match Pts: ",u.players[2].points]})]})]})]})}),Object(C.jsxs)("div",{className:"result-slide v-layout",children:[Object(C.jsx)("h3",{className:"mt-3",children:"Player Score Table"}),Object(C.jsx)("div",{className:"table-container",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Player"}),Object(C.jsx)("th",{children:"Kills"}),Object(C.jsx)("th",{children:"Pts"}),Object(C.jsx)("th",{children:"Total"})]})}),Object(C.jsx)("tbody",{children:m})]})})]}),Object(C.jsxs)("div",{className:"result-slide v-layout",children:[Object(C.jsx)("h3",{className:"mt-3",children:"Team Score Table"}),Object(C.jsx)("div",{className:"table-container",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{style:{width:"100%"},children:"Players"}),Object(C.jsx)("th",{children:"Kills"}),Object(C.jsx)("th",{children:"Pts"}),Object(C.jsx)("th",{children:"Total"})]})}),Object(C.jsx)("tbody",{children:j})]})})]}),Object(C.jsxs)("div",{className:"result-slide v-layout",children:[Object(C.jsx)("h3",{className:"mt-3",children:"Achievements"}),Object(C.jsx)(H,{result:u})]})]}),Object(C.jsxs)("div",{className:"dots",children:[Object(C.jsx)("div",{className:0===c?"active":"",onClick:function(){return r(0)}}),Object(C.jsx)("div",{className:1===c?"active":"",onClick:function(){return r(1)}}),Object(C.jsx)("div",{className:2===c?"active":"",onClick:function(){return r(2)}}),Object(C.jsx)("div",{className:3===c?"active":"",onClick:function(){return r(3)}})]})]})};a(83);var _=function(e){var t=e.tournamentId,a=e.players,s=e.teamSize,c=e.onSave,r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(n.useState)([]),m=Object(o.a)(d,2),j=m[0],h=m[1];Object(n.useEffect)((function(){a.forEach((function(e,t){-1===j.indexOf(t)&&(document.getElementById(e+"_checkbox").checked=!1)})),p()}),[j]);var p=function(){u(j.length===parseInt(s))},b=a.map((function(e,t){return Object(C.jsxs)("div",{className:"h-layout mt",children:[Object(C.jsx)("label",{htmlFor:e+"_checkbox",className:"flex-grow",children:e}),Object(C.jsx)("input",{type:"checkbox",id:e+"_checkbox",checked:j.indexOf(t)>-1,onChange:function(e){return function(e,t){var a=Object(x.a)(j);if(t)a.push(e);else{var n=j.indexOf(e);n>-1&&a.splice(n,1)}var c=a.slice(Math.max(0,a.length-s),a.length);h(c)}(t,e.target.checked)}})]},t)}));return Object(C.jsxs)("div",{className:"v-layout align-stretch",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"text-accent",children:"Players"}),b]}),Object(C.jsx)("button",{className:"mt",onClick:function(){l&&k.names().getName().then((function(e){k.tournaments().saveTeam(t,{id:Object(P.a)(),name:e,tournamentId:t,players:j.map((function(e){return a[e]})),matches:[]}).then((function(e){c(e)}))}))},disabled:!l,children:"save"})]})},X=(a(84),[]);var Z=function(e){var t=e.tournament,a=e.onSave,s=Object(n.useState)([{name:"",players:[]}]),c=Object(o.a)(s,2),r=c[0],i=c[1];Object(n.useEffect)(Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:u();case 3:case"end":return e.stop()}}),e)}))),[]);var l=function(){var e=Object(h.a)(j.a.mark((function e(){var a,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X=[],a=t.players.length/t.teamSize,n=0;case 3:if(!(n<a)){e.next=11;break}return e.next=6,k.names().getName();case 6:s=e.sent,X.push("undefined undefined"===s?Object(P.a)().substring(0,4):s);case 8:n++,e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){for(var e=t.players.length/t.teamSize,a=v.a.shuffle(t.players),n=[],s=0;s<e;s++){for(var c=[],r=0;r<t.teamSize;r++)c.push(a[s*t.teamSize+r]);n.push({id:Object(P.a)(),name:X[s],tournamentId:t.id,players:c,matches:[]})}i(n)},d=function(e){k.tournaments().saveTeams(t.id,e)},m=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(r),e.next=3,l();case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=r.map((function(e,t){var a=e.players.map((function(e){return Object(C.jsx)("span",{className:"mr",children:e},e)}));return Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("h3",{children:e.name}),Object(C.jsx)("div",{className:"h-layout justify-left",children:a})]},t)}));return Object(C.jsxs)("div",{children:[p,Object(C.jsxs)("div",{className:"h-layout justify-stretch",children:[Object(C.jsx)("button",{className:"flex-grow",onClick:function(){return u()},children:"Generate"}),Object(C.jsx)("button",{className:"ml",onClick:function(){return m()},children:"save"})]})]})};var Q=function(e){var t=Object(n.useState)([!1]),a=Object(o.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([!1]),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(n.useState)({name:"",teamSize:0,players:[],teams:[]}),m=Object(o.a)(d,2),j=m[0],h=m[1];Object(n.useEffect)((function(){k.tournaments().detach(),p()}),[]);var p=function(){k.tournaments().liveList((function(t){var a=k.tournaments().searchById(t,e.match.params.id);h(t[a])}))},b=j.players.map((function(e,t){return Object(C.jsx)("span",{className:"mr",children:e},t)}));return Object(C.jsxs)("div",{className:"tournament v-layout",children:[Object(C.jsx)("h2",{children:j.name}),Object(C.jsxs)("div",{className:"mb h-layout",children:[Object(C.jsxs)("div",{className:"mr-3",children:[Object(C.jsx)("span",{className:"text-accent text-sm",children:"Date"})," ",D()(j.created).format("MM/DD/YYYY")]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"text-accent text-sm",children:"Team size"})," ",j.teamSize]})]}),Object(C.jsx)("div",{className:"h-layout",children:b}),Object(C.jsx)(q,{tournament:j}),Object(C.jsx)("h3",{className:"mt-3",children:"Teams"}),Object(C.jsxs)("div",{className:"h-layout",children:[Object(C.jsx)("button",{className:"mr",onClick:function(){return u([!0])},children:"Generate Teams"}),Object(C.jsx)("button",{onClick:function(){return c([!0])},children:"Add Team"})]}),Object(C.jsx)(W,{teams:j.teams}),Object(C.jsx)(I,{isOpen:s,onRequestClose:function(){return c([!1])},size:"sm",children:Object(C.jsx)(_,{tournamentId:j.id,players:j.players,teamSize:j.teamSize,onSave:function(e){c([!1])}})}),Object(C.jsx)(I,{isOpen:l,onRequestClose:function(){return u([!1])},size:"sm",children:Object(C.jsx)(Z,{tournament:j,onSave:function(e){u([!1])}})})]})};var U=function(){return Object(C.jsxs)("div",{className:"app",children:[Object(C.jsx)("div",{className:"app-bg"}),Object(C.jsx)("div",{className:"app-content",children:Object(C.jsx)(i.a,{children:Object(C.jsxs)(l.c,{children:[Object(C.jsx)(l.a,{path:"/tournament/:id",component:Q}),Object(C.jsx)(l.a,{path:"/",children:Object(C.jsx)(L,{})})]})})})]})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(U,{})}),document.getElementById("root")),V()}},[[87,1,2]]]);
//# sourceMappingURL=main.70ff802b.chunk.js.map